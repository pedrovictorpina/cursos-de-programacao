# =============================================================================
# CONFIGURAÇÃO DE AMBIENTE - E-COMMERCE PROJECT
# =============================================================================
# Este arquivo documenta todas as variáveis de ambiente necessárias
# Copie para .env e configure os valores reais

# =============================================================================
# CONFIGURAÇÕES GERAIS
# =============================================================================
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001

# =============================================================================
# BANCO DE DADOS
# =============================================================================
# PostgreSQL Database
DATABASE_URL=postgresql://username:password@localhost:5432/ecommerce_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ecommerce_db
DB_USER=username
DB_PASSWORD=password

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# ELASTICSEARCH
# =============================================================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX=ecommerce_products

# =============================================================================
# AUTENTICAÇÃO JWT
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-here
JWT_REFRESH_SECRET=your-super-secret-refresh-key-here
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# STRIPE PAGAMENTOS
# =============================================================================
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_SUCCESS_URL=http://localhost:3000/checkout/success
STRIPE_CANCEL_URL=http://localhost:3000/checkout/cancel

# =============================================================================
# EMAIL SERVICE
# =============================================================================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# SendGrid (alternativa)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# AWS SES (alternativa)
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY_ID=your-access-key
AWS_SES_SECRET_ACCESS_KEY=your-secret-key
AWS_SES_FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# UPLOAD DE ARQUIVOS
# =============================================================================
# Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880

# AWS S3 (recomendado para produção)
AWS_S3_BUCKET=your-bucket-name
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=your-access-key
AWS_S3_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_ENDPOINT=

# Cloudinary (alternativa)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_API_MAX=1000

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =============================================================================
# MONITORAMENTO
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# =============================================================================
# SEGURANÇA
# =============================================================================
# CORS
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Session
SESSION_SECRET=your-session-secret-key
SESSION_MAX_AGE=86400000

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key
HASH_SALT_ROUNDS=12

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL_DEFAULT=3600
CACHE_TTL_PRODUCTS=1800
CACHE_TTL_CATEGORIES=7200
CACHE_TTL_USER_SESSION=86400

# =============================================================================
# EXTERNAL APIS
# =============================================================================
# CEP/Address API
VIA_CEP_API_URL=https://viacep.com.br/ws

# Freight Calculation
CORREIOS_API_URL=https://ws.correios.com.br
CORREIOS_USER=your-correios-user
CORREIOS_PASSWORD=your-correios-password

# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# DESENVOLVIMENTO
# =============================================================================
# Debug
DEBUG=app:*
VERBOSE_LOGGING=false

# Test Database
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/ecommerce_test

# Seed Data
SEED_ADMIN_EMAIL=admin@ecommerce.com
SEED_ADMIN_PASSWORD=admin123

# =============================================================================
# PRODUÇÃO
# =============================================================================
# SSL
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Load Balancer
TRUST_PROXY=true

# Health Check
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest
DOCKER_NETWORK=ecommerce-network

# =============================================================================
# CI/CD
# =============================================================================
GITHUB_TOKEN=your-github-token
DOCKER_HUB_USERNAME=your-dockerhub-username
DOCKER_HUB_PASSWORD=your-dockerhub-password

# Deployment
DEPLOY_ENVIRONMENT=staging
DEPLOY_BRANCH=main
DEPLOY_WEBHOOK_URL=https://your-deploy-webhook.com

# =============================================================================
# ANALYTICS
# =============================================================================
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
GOOGLE_TAG_MANAGER_ID=GTM-XXXXXXX
FACEBOOK_PIXEL_ID=123456789

# =============================================================================
# BACKUP
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_RECOMMENDATIONS=true
FEATURE_REVIEWS=true
FEATURE_WISHLIST=true
FEATURE_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_A_B_TESTING=false

# =============================================================================
# PERFORMANCE
# =============================================================================
MAX_REQUEST_SIZE=50mb
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
MAX_CONNECTIONS=1000

# =============================================================================
# LOCALIZATION
# =============================================================================
DEFAULT_LANGUAGE=pt-BR
DEFAULT_CURRENCY=BRL
DEFAULT_TIMEZONE=America/Sao_Paulo
SUPPORTED_LANGUAGES=pt-BR,en-US,es-ES

# =============================================================================
# BUSINESS RULES
# =============================================================================
MIN_ORDER_VALUE=2000
FREE_SHIPPING_THRESHOLD=10000
MAX_CART_ITEMS=50
MAX_PRODUCT_IMAGES=10
DEFAULT_TAX_RATE=0.18

# =============================================================================
# NOTIFICATIONS
# =============================================================================
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts

# Discord
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# =============================================================================
# TERCEIROS
# =============================================================================
# Google Maps
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# reCAPTCHA
RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# Social Login
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# =============================================================================
# OBSERVAÇÕES IMPORTANTES
# =============================================================================
# 1. NUNCA commite este arquivo com valores reais
# 2. Use valores seguros em produção
# 3. Mantenha as chaves em um gerenciador de secrets
# 4. Rotacione chaves regularmente
# 5. Use HTTPS em produção
# 6. Configure firewall adequadamente
# 7. Monitore logs de segurança
# 8. Faça backup das configurações
# 9. Teste em ambiente de staging primeiro
# 10. Documente mudanças nas variáveis